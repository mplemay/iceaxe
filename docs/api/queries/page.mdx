# Queries

Queries allow you to retrieve data from your database. Every query you build with ORM objects
is a subclass of `QueryBuilder` at its base. This class provides a number of methods to help you
construct your query and pass the correct types for downstream processing.

## Shortcuts

We offer convenience functions for the most common SQL operations. This avoids
the need to instantiate a `QueryBuilder` directly every time you want a new SQL
query and typically results in cleaner code.

::: iceaxe.queries.select

---

::: iceaxe.queries.update

---

::: iceaxe.queries.delete

---

## Raw Queries

::: iceaxe.queries.QueryBuilder

---

::: iceaxe.functions.FunctionMetadata

---

::: iceaxe.comparison.ComparisonBase

---

## Functions

::: iceaxe.functions.func

---

::: iceaxe.functions.FunctionBuilder

---

### SQL IN operator

The `in_` function provides a convenient way to use SQL's `IN` operator to check if a field's value is contained in a list of values or a subquery.

```python
from iceaxe import func, select

# Check if a field matches any values in a list
active_users = await conn.execute(
    select(User).where(func.in_(User.status, ["active", "verified", "premium"]))
)

# Check if a field matches any values in a subquery
subquery = select(Order.user_id).where(Order.status == "completed")
users_with_orders = await conn.execute(
    select(User).where(func.in_(User.id, subquery))
)
```

Note that since `in` is a Python keyword, this method can only be accessed using `in_`.

---

## Conditions

If you want to add conditions to your query, you can use the `where` method. If you pass multiple
conditions to this, they'll be chained together as an `AND` filter. To
combine OR and AND predicates together, you can use `and_` and `or_`.

::: iceaxe.queries.and_

---

::: iceaxe.queries.or_

---

## Enums

::: iceaxe.queries.JoinType

---

::: iceaxe.queries.OrderDirection

---

## Raw Queries

::: iceaxe.queries_str.sql

---

::: iceaxe.queries_str.SQLGenerator
